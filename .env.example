# Example environment variables for the Rental App
# Copy this file to `.env` and replace the values as needed.

# The port where the Express server will run. Default: 3000
PORT=3000

# MongoDB connection URI. For local development you can use
# mongodb://localhost:27017/rental-app
# If you are using MongoDB Atlas or another provider, replace the URI accordingly.
MONGO_URL=mongodb://localhost:27017/rental-app
MONGO_URI=mongodb://localhost:27017/rental-app

# Secret key used to sign JWT tokens. Generate a random 32‑byte hex string for production.
JWT_SECRET=your_jwt_secret_here

# Default bank account displayed in generated contracts. Optional.
BANK_ACCOUNT=ES0000000000000000000000

# Encryption key used to encrypt IBANs. Must be a 32‑byte hex string (64 characters).
IBAN_ENCRYPTION_KEY=your_iban_encryption_key_here

# Stripe secret key for payment integration. Leave empty if not using Stripe.
STRIPE_SECRET_KEY=
STRIPE_KEY=
# En dev/test es opcional; en producción es OBLIGATORIO
STRIPE_WEBHOOK_SECRET=
APP_URL=http://localhost:3000
SERVICE_FEE_PERCENT=0.07
# Origen permitido para CORS en desarrollo (frontend CRA)
CORS_ORIGIN=http://localhost:3001


# Commission configuration for rent payments (charged to the owner)
PLATFORM_RENT_FEE_PCT=5
PLATFORM_MIN_RENT_FEE_CENTS=0
PLATFORM_SIGN_FEE_PCT=2
CONTRACT_SIGN_FEE_MODE=deferred

# Enabled payment methods for rent collection
PAYMENT_METHODS=sepa_debit,card,bizum

# KYC webhook secret for identity verification provider (e.g. Stripe Identity)
STRIPE_IDENTITY_WEBHOOK_SECRET=

# Electronic signature provider configuration
SIGNATURE_PROVIDER=signaturit
SIGNATURE_API_TOKEN=
SIGNATURE_WEBHOOK_SECRET=

# New signature provider flags (DocuSign sandbox)
SIGN_PROVIDER=mock            # mock|docusign
SIGN_EMBEDDED=false           # true para URLs embebidas (DocuSign recipient views)
DOCUSIGN_BASE_URL=https://demo.docusign.net
DOCUSIGN_INTEGRATOR_KEY=your_integration_key   # aka client_id
DOCUSIGN_USER_ID=your_user_guid                # GUID del usuario
DOCUSIGN_ACCOUNT_ID=your_account_id
DOCUSIGN_AUTH_METHOD=jwt
DOCUSIGN_PRIVATE_KEY_BASE64=                  # clave privada en base64 (PEM)
DOCUSIGN_WEBHOOK_SECRET=change-me             # HMAC Connect (X-DocuSign-Signature-1)

# SMTP configuration for sending email notifications. Leave empty if email is not configured.
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=

# The from address used when sending emails.
SMTP_FROM=no-reply@localhost

# Platform fee configuration
PLATFORM_FEE_PCT=10
PLATFORM_MIN_FEE_CENTS=199
ESCROW_DRIVER=mock
# Feature flags for mock providers
# Use 'mock' for local dev/test; set to 'real' providers in production
SIGN_PROVIDER=mock          # mock|docusign|signaturit (choose your provider)
SMS_PROVIDER=mock           # mock|twilio

# Tenant PRO configuration
TENANT_PRO_UPLOADS_KEY=
TENANT_PRO_DOCS_TTL_DAYS=365
ALLOW_TENANT_PRO_IN_DEV=true
\n# Twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
